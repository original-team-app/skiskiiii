<template>
  <div class="api">
    <h1>This is an API page</h1>
    <!-- <div id="dog-image"></div>
    <div>
      <input
        type="text"
        name="y_rad"
        class="num"
        size="5"
        maxlength="2"
        value="35"
      />
      <button v-on:click="toggle">toggle</button>
    </div>
    <div>
      <input type="text" v-bind:value="myName" v-on:input="changeMyName" />
      {{ myName }}
    </div> -->
  </div>

  <!-- 2ãƒ¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã®çµæœè¡¨ç¤º -->
  <h2>ä¸Šã«ã‚ã‚‹ç·¯åº¦çµŒåº¦ã‚’åæ˜ ã•ã›ãŸã‚‚ã®ã‚’è¡¨ç¤º</h2>
  <section>
    <div>
      <input
        type="text"
        class="num"
        v-bind:value="latitude"
        v-on:input="changeLatitude"
      />ç·¯åº¦ï¼š{{ latitude }}
    </div>
    <div>
      <input
        type="text"
        v-bind:value="longitude"
        v-on:input="changeLongitude"
      />çµŒåº¦ï¼š{{ longitude }}
    </div>
  </section>
  <!-- <section>
    <h2>Qiitaã®è¨˜äº‹</h2>
    <button v-on:click="getQiitaArticle">è¨˜äº‹ã‚’å–å¾—ã™ã‚‹</button>
    <div v-for="(article, index) in articles" v-bind:key="index">
      <!- ğŸ‘‡ã“ã“ã‚’å¤‰æ›´ã™ã‚‹ğŸ‘‡ --
  <- {{ index }} : {{ article }} -
  <- ğŸ‘†ã“ã“ã‚’å¤‰æ›´ã™ã‚‹ğŸ‘†
    </div>
  </section> -->

  <!-- <form name="frmSearch">
    ---------------------------------------------------------------------------------------------------
    <table>
      <tr class="inputRow">
        <th>ç·¯åº¦ï¼š</th>
        <td>
          <input
            type="text"
            name="y_rad"
            class="num"
            size="5"
            maxlength="2"
            value="35"
          />åº¦
          <!- <input
            type="text"
            name="y_min"
            class="num"
            size="5"
            maxlength="2"
            value="40"
          />åˆ†
          <input
            type="text"
            name="y_sec"
            class="num"
            size="10"
            maxlength="6"
            value="52.9"
          />ç§’ -
        </td>
      </tr>
      <tr class="inputRow">
        <th>çµŒåº¦ï¼š</th>
        <td>
          <input
            type="text"
            name="x_rad"
            class="num"
            size="5"
            maxlength="3"
            value="139"
          />åº¦
          <!-<input
            type="text"
            name="x_min"
            class="num"
            size="5"
            maxlength="2"
            value="45"
          />åˆ†
          <input
            type="text"
            name="x_sec"
            class="num"
            size="10"
            maxlength="6"
            value="58.0"
          />ç§’ --
        </td>
      </tr>
      <!- <tr class="inputRow">
        <th>ç¯„å›²ï¼š</th>
        <td>
          <input
            type="text"
            name="range"
            class="num"
            size="8"
            maxlength="4"
            value="1.0"
          />km
        </td>
      </tr> --
      <tr class="buttonRow">
        <td colspan="2">
          <input type="button" value="æ¤œç´¢" onclick="search" />
          <input
            type="button"
            value="Google Mapã§ä½ç½®ã‚’ç¢ºèª"
            onclick="javascript: linkMap();"
          />
        </td>
      </tr>
    </table>
  </form> -->
  <section>
    <button v-on:click="getLongitude">
      ç·¯åº¦çµŒåº¦ã‚’å–å¾—ã—ã¦ã€å‘¨è¾ºæƒ…å ±ã‚’è¡¨ç¤º
    </button>
    <div v-for="(infomation, index) in infomations" v-bind:key="index">
      {{ index }} : {{ infomation }}
    </div>
  </section>
  <!-- <section>
    <h2>ç·¯åº¦ã¨çµŒåº¦ã‚’è¡¨ç¤º</h2>
    <button v-on:click="getLatitude">ç·¯åº¦çµŒåº¦ã‚’å–å¾—ã™ã‚‹</button>
    <div v-for="(article, index) in articles" v-bind:key="index">
      {{ index }} : {{ article }}
    </div>
  </section> -->
  <!-- ã˜ã‚ƒã‚‰ã‚“ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ -->

  <!-- æ¤œç´¢ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèªã™ã‚‹ãŸã‚ã€å…¥åŠ›ã—ãŸæƒ…å ±ã‚’GoogleMapsã§ç¢ºèªã™ã‚‹ãƒœã‚¿ãƒ³ã®
  å‡¦ç†ã‚’ä½œæˆã—ã¾ã™ã€‚ã€GoogleMapsé€ä¿¡ãƒ•ã‚©ãƒ¼ãƒ  ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€‘ -->
  <!-- <form
    name="frmLinkMap"
    action="http://maps.google.co.jp/maps"
    method="GET"
    target="_blank"
  >
    <input type="hidden" name="z" value="17" />
    <input type="hidden" name="q" value="" />
  </form> -->
</template>

<script>
export default {
  data() {
    return {
      // myName: "MouMou",
      //ç·¯åº¦çµŒåº¦ã®åˆæœŸå€¤è¨­å®š
      latitude: 35.6065914,
      longitude: 139.7513225,
      // option: {},
      //è¨˜äº‹ã‚’å–å¾—ã®åˆæœŸå€¤
      infomations: [],
      // articles: [],
    }
  },

  methods: {
    //ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã®å‡¦ç†ï¼ˆç·¯åº¦çµŒåº¦ã‚’æ›´æ–°ã™ã‚‹ï¼‰
    // toggle: function () {
    //   this.latitude = 14500
    //   this.longitude = 45000
    // },
    // å…¥åŠ›å€¤ã‚’åæ˜ ã™ã‚‹
    // changeMyName(event) {
    //   this.myName = event.target.value
    // },
    changeLatitude(event) {
      this.latitude = event.target.value
    },
    changeLongitude(event) {
      this.longitude = event.target.value
    },
    //ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥æ‰‹ã™ã‚‹
    // getQiitaArticle: function () {
    //   fetch(`https://qiita.com/api/v2/items`)
    //     .then((res) => {
    //       return res.json()
    //     })
    //     .then((value) => {
    //       console.log(value) // ğŸ‘ˆ value ã‚’ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§è¡¨ç¤ºã™ã‚‹è¡Œã‚’è¿½åŠ 
    //       this.articles = value
    //     })
    //     .catch((error) => {
    //       console.error(error)
    //     })
    // },
    getLongitude: function () {
      // 3------------------------------------------------------------------------------latitudeã¨longitudeã®numbergå‹ã®å¤‰æ›ãŒå¿…è¦
      console.log(this.latitude)
      this.latitude = parseFloat(this.latitude)
      this.longitude = parseFloat(this.longitude)
      // // console.log(num1)
      // console.log(typeof num1)
      // console.log(num2)
      // console.log(typeof num2)
      console.log(typeof this.latitude)
      console.log(typeof this.longitude)
      //ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã«ç·¯åº¦çµŒåº¦ãƒ‡ãƒ¼ã‚¿ã‚’å…¥æ‰‹ã™ã‚‹
      fetch(
        "https://app.rakuten.co.jp/services/api/Travel/SimpleHotelSearch/20170426?format=json&datumType=1&latitude=" +
          this.latitude +
          "&longitude=" +
          this.longitude +
          "&applicationId=1064072543465509183"
      ) //1----------------------------------------------------------------------------ç·¯åº¦çµŒåº¦ã‚’å¤‰ãˆã¦æ¯å›å‹•çš„ã«è¡¨ç¤ºã™ã‚‹ã«ã¯
        //2------------------------------------------------------------------------------ç·¯åº¦çµŒåº¦ã®æŒ‡å®šæ–¹æ³•ã«æ±ºã¾ã‚ŠãŒã‚ã‚‹ï¼Ÿä¸–ç•Œæ¸¬åœ°ç³»ã€å˜ä½ã¯åº¦ã§æŒ‡å®šã™ã‚‹ã“ã¨ã€‚ä¸–ç•Œåœ°å›³ç³»ã¨ã‹ãªã«ã‹ãƒ«ãƒ¼ãƒ«ã‚ã‚Šï¼Ÿ
        .then((response) => {
          return response.json()
        })
        .then((value) => {
          console.log(value)
          console.log(value.hotels[0].hotel[0].hotelBasicInfo)
          this.infomations = value.hotels[0].hotel[0].hotelBasicInfo
        })
        .catch((error) => {
          console.error(error)
          console.log(error)
          this.infomations = error
        })
    },
    // getLatitude: function () {
    //   //ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã«ç·¯åº¦çµŒåº¦ãƒ‡ãƒ¼ã‚¿ã‚’å…¥æ‰‹ã™ã‚‹(ç¢ºèªç‰ˆ)
    //   fetch(
    //     "https://app.rakuten.co.jp/services/api/Travel/SimpleHotelSearch/20170426?format=json&datumType=1&latitude=35.6065914&longitude=139.7513225&applicationId=1064072543465509183"
    //   ) //1----------------------------------------------------------------------------ç·¯åº¦çµŒåº¦ã‚’å¤‰ãˆã¦æ¯å›å‹•çš„ã«è¡¨ç¤ºã™ã‚‹ã«ã¯
    //     .then((res) => {
    //       return res.json()
    //     })
    //     .then((value) => {
    //       console.log(value)
    //       console.log(value.hotels[5].hotel[0].hotelBasicInfo)
    //       this.articles = value.hotels[5].hotel[0].hotelBasicInfo.hotelName
    //     })
    //     .catch((error) => {
    //       console.error(error)
    //     })
    // },
  },
}

// æ¥½å¤©ãƒˆãƒ©ãƒ™ãƒ«APIã‹ã‚‰ç·¯åº¦çµŒåº¦ã®å‘¨è¾ºã®å®¿æƒ…å ±ã‚’å…¥æ‰‹ã™ã‚‹ã€‚
/*fetch(
  "https://app.rakuten.co.jp/services/api/Travel/SimpleHotelSearch/20170426?format=json&datumType=1&latitude=35.6065914&longitude=139.7513225&applicationId=1064072543465509183"
) //ï¼‘ãƒ¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼latitude,longitudeã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹ã«ã¯ï¼ˆå¤‰æ•°ã«å¤‰æ›ï¼‰
  .then((response) => {
    console.log(response)
    return response.json()
  })
  .then((data) => {
    console.log(data) //ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤º
    console.log(data.hotels[0])
    console.log(data.hotels[5].hotel[0].hotelBasicInfo)
    //ãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºã‚’è¡Œã†ã€‚
    // this.latitude = data.hotels[5]
    // this.longitude = data.longitude
    // this.option = 2345678
  })
  .catch((err) => {
    console.error(err)
  })
*/
// fetch(
//   "https://booking-com.p.rapidapi.com/v1/hotels/nearby-cities?latitude=65.9667&longitude=-18.5333&locale=en-gb",
//   {
//     method: "GET",
//     headers: {
//       "x-rapidapi-key": "5c5ec09babmsh049dd1cd74a0327p19d6d5jsn723f4dc89fa1",
//       "x-rapidapi-host": "booking-com.p.rapidapi.com",
//     },
//   }
// ).then((response) => {
//   console.log(response)
// })

//Search hotels by coordinates
//Get available hotels by coordinates latitude and longitude
// fetch(
//   "https://booking-com.p.rapidapi.com/v1/hotels/search-by-coordinates?checkin_date=2022-08-05&order_by=popularity&units=metric&longitude=-18.5333&adults_number=2&latitude=65.9667&room_number=1&locale=en-gb&filter_by_currency=AED&checkout_date=2022-08-06&children_number=2&children_ages=5%2C0&page_number=0&categories_filter_ids=class%3A%3A2%2Cclass%3A%3A4%2Cfree_cancellation%3A%3A1&include_adjacency=true",
//   {
//     method: "GET",
//     headers: {
//       "x-rapidapi-key": "5c5ec09babmsh049dd1cd74a0327p19d6d5jsn723f4dc89fa1",
//       "x-rapidapi-host": "booking-com.p.rapidapi.com",
//     },
//   }
// )
//   .then((response) => {
//     console.log(response)
//   })
//   .catch((err) => {
//     console.error(err)
//   })

//
// fetch(
//   "https://booking-com.p.rapidapi.com/v1/hotels/search-by-coordinates?checkin_date=2022-08-05&order_by=popularity&units=metric&longitude=135&adults_number=2&latitude=35&room_number=1&locale=en-gb&filter_by_currency=AED&checkout_date=2022-08-06&children_number=2&children_ages=5%2C0&page_number=0&categories_filter_ids=class%3A%3A2%2Cclass%3A%3A4%2Cfree_cancellation%3A%3A1&include_adjacency=true",
//   {
//     method: "GET",
//     headers: {
//       "x-rapidapi-key": "5c5ec09babmsh049dd1cd74a0327p19d6d5jsn723f4dc89fa1",
//       "x-rapidapi-host": "booking-com.p.rapidapi.com",
//     },
//   }
// )
//   .then((response) => {
//     console.log(response)
//     return response.json()
//   })
//   .then((data) => {
//     console.log(data)
//   })
//   .catch((err) => {
//     console.error(err)
//   })

// .catch((err) => {
//   // console.error(err)
// })
//æ¤œç´¢ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å¾Œã®å‡¦ç†
// export default {
//   methods{
//     this.search: function() {
//       this.count += 1
//     }
// }

// const imageElement = document.getElementById("dog-image")

// ã˜ã‚ƒã‚‰ã‚“APIã®å–å¾—
// fetch("http://jws.jalan.net/APIAdvance/HotelSearch/V1/")
//   .then((res) => {
//     return res.json()
//   })
//   .then((json) => {
//     imageElement.src = json.message
//     console.log(json)
//   })

// export default {}
// // GoogleMapså®Ÿè¡Œ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
// function linkMap() {
//   var y_rad = parseFloat(document.frmSearch.y_rad.value)
//   var y_min = parseFloat(document.frmSearch.y_min.value)
//   var y_sec = parseFloat(document.frmSearch.y_sec.value)
//   var y = y_rad + y_min / 60 + y_sec / 3600
//   var x_rad = parseFloat(document.frmSearch.x_rad.value)
//   var x_min = parseFloat(document.frmSearch.x_min.value)
//   var x_sec = parseFloat(document.frmSearch.x_sec.value)
//   var x = x_rad + x_min / 60 + x_sec / 3600

//   document.frmLinkMap.q.value = "" + y + "," + x
//   document.frmLinkMap.submit()
// }
// //æ—¥æœ¬æ¸¬åœ°ç³»â†’ä¸–ç•Œæ¸¬åœ°ç³»ã«å¤‰æ›
// // åº§æ¨™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
// function Point(_x, _y) {
//   Point.prototype.x = _x
//   Point.prototype.y = _y
// }

// // æ—¥æœ¬æ¸¬åœ°ç³»ï¼ˆåº¦ï¼‰ã‹ã‚‰ä¸–ç•Œæ¸¬åœ°ç³»ï¼ˆåº¦ï¼‰ã«å¤‰æ›
// // ï¼œå‚è€ƒè³‡æ–™ï¼
// // http://groups.google.com/group/Google-Maps-API-Japan/browse_thread/thread/d0ce529ce20edc4d/285aac6e0d3497a1
// function ChangeLocationJapanToGlobal(jx, jy) {
//   var wy = jy - jy * 0.00010695 + jx * 0.000017464 + 0.0046017
//   var wx = jx - jy * 0.000046038 - jx * 0.000083043 + 0.01004

//   return new Point(wx, wy)
// }

// // ä¸–ç•Œæ¸¬åœ°ç³»ï¼ˆåº¦ï¼‰ã‹ã‚‰æ—¥æœ¬æ¸¬åœ°ç³»ï¼ˆåº¦ï¼‰ã«å¤‰æ›
// function ChangeLocationGlobalToJapan(wx, wy) {
//   var jy = wy * 1.000106961 - wx * 0.000017467 - 0.004602017
//   var jx = wx * 1.000083049 + wy * 0.000046047 - 0.010041046

//   return new Point(jx, jy)
// }

// // å€¤ã‚’å–å¾—
// var y_rad = parseFloat(document.frmSearch.y_rad.value)
// var y_min = parseFloat(document.frmSearch.y_min.value)
// var y_sec = parseFloat(document.frmSearch.y_sec.value)
// var y = y_rad + y_min / 60 + y_sec / 3600
// var x_rad = parseFloat(document.frmSearch.x_rad.value)
// var x_min = parseFloat(document.frmSearch.x_min.value)
// var x_sec = parseFloat(document.frmSearch.x_sec.value)
// var x = x_rad + x_min / 60 + x_sec / 3600
// var range = parseFloat(document.frmSearch.range.value)

// // æ—¥æœ¬æ¸¬åœ°ç³»ã«å¤‰æ›ã™ã‚‹
// var jPoint = ChangeLocationGlobalToJapan(x, y)
// var jx_ms = parseInt(jPoint.x * 3600 * 1000)
// var jy_ms = parseInt(jPoint.y * 3600 * 1000)
//
</script>
